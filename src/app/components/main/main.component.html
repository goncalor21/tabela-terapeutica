<body>
  <div class="page-wrapper">

    <!-- HEADER -->
    <header class="header-glass">
      <div class="logo" (click)="reloadPage()"></div>
      <nav class="header-actions">
        <a href="/profile" class="profile-btn" *ngIf="isLoggedIn">
          <i class="fas fa-user-circle"></i> Perfil
        </a>
      </nav>
    </header>

    <!-- INPUT AREA -->
    <main class="main-section">
      <form (submit)="handleSubmit()" class="glass-form">
        <textarea [(ngModel)]="textareaValue" name="Prescricao" id="pres1"
          placeholder="Digite a prescri√ß√£o..."></textarea>
        <button type="submit" class="btn-primary">‚ö° Gerar Documento</button>
      </form>

      <!-- TABLE PREVIEW -->
      <section id="pre_visualizacao" class="glass-preview">

        <table mat-table [dataSource]="dataSource" class="styled-table mat-elevation-z8" #elRef>

          <!-- Comprimido -->
          <ng-container matColumnDef="comprimido">
            <th mat-header-cell *matHeaderCellDef class="header"> Comprimido </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else comprimidoView">
                <input class="editTableInput" [(ngModel)]="element.comprimido" />
              </ng-container>
              <ng-template #comprimidoView>{{ element.comprimido }}</ng-template>
            </td>
          </ng-container>

          <!-- Jejum -->
          <ng-container matColumnDef="jejum">
            <th mat-header-cell *matHeaderCellDef class="header"> Jejum </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else jejumView">
                <input class="editTableInput" [(ngModel)]="element.jejum" />
              </ng-container>
              <ng-template #jejumView>{{ element.jejum }}</ng-template>
            </td>
          </ng-container>

          <!-- Pequeno Almo√ßo -->
          <ng-container matColumnDef="peqAlmoco">
            <th mat-header-cell *matHeaderCellDef class="header"> P. Almo√ßo </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else peqView">
                <input class="editTableInput" [(ngModel)]="element.peqAlmoco" />
              </ng-container>
              <ng-template #peqView>{{ element.peqAlmoco }}</ng-template>
            </td>
          </ng-container>

          <!-- Almo√ßo -->
          <ng-container matColumnDef="almoco">
            <th mat-header-cell *matHeaderCellDef class="header"> Almo√ßo </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else almocoView">
                <input class="editTableInput" [(ngModel)]="element.almoco" />
              </ng-container>
              <ng-template #almocoView>{{ element.almoco }}</ng-template>
            </td>
          </ng-container>

          <!-- Lanche -->
          <ng-container matColumnDef="lanche">
            <th mat-header-cell *matHeaderCellDef class="header"> Lanche </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else lancheView">
                <input class="editTableInput" [(ngModel)]="element.lanche" />
              </ng-container>
              <ng-template #lancheView>{{ element.lanche }}</ng-template>
            </td>
          </ng-container>

          <!-- Jantar -->
          <ng-container matColumnDef="jantar">
            <th mat-header-cell *matHeaderCellDef class="header"> Jantar </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else jantarView">
                <input class="editTableInput" [(ngModel)]="element.jantar" />
              </ng-container>
              <ng-template #jantarView>{{ element.jantar }}</ng-template>
            </td>
          </ng-container>

          <!-- Ao Deitar -->
          <ng-container matColumnDef="deitar">
            <th mat-header-cell *matHeaderCellDef class="header"> Ao deitar </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else deitarView">
                <input class="editTableInput" [(ngModel)]="element.deitar" />
              </ng-container>
              <ng-template #deitarView>{{ element.deitar }}</ng-template>
            </td>
          </ng-container>

          <!-- Notas -->
          <ng-container matColumnDef="notas">
            <th mat-header-cell *matHeaderCellDef class="header"> Notas </th>
            <td mat-cell *matCellDef="let element">
              <ng-container *ngIf="isEditMode; else notasView">
                <input class="editTableInput" [(ngModel)]="element.notas" />
              </ng-container>
              <ng-template #notasView>{{ element.notas }}</ng-template>
            </td>
          </ng-container>

          <!-- Rows -->
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>


        <div class="preview-actions">
          <button *ngIf="tableId" (click)="onRowClick()" class="btn-secondary">‚úè Editar</button>
          <button (click)="printTable()" class="btn-primary">üñ® Imprimir</button>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer-glass">
      <div class="footer-content">
        <div>
          <h4>A empresa</h4>
          <a href="#">Sobre n√≥s</a>
          <a href="#">Politica de Privacidade</a>
          <a href="#">Termos e condi√ß√µes</a>
        </div>
        <div>
          <h4>Ajuda</h4>
          <a href="#">FAQ</a>
          <a href="mailto:suporte@tabelaterapeutica.pt">suporte@tabelaterapeutica.pt</a>
        </div>
        <div>
          <h4>Siga-nos</h4>
          <div class="social-links">
            <a href="https://www.facebook.com/tterapeutica/"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com/TTerapeutica"><i class="fab fa-twitter"></i></a>
            <a href="https://www.instagram.com/tabelaterapeutica/"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
    </footer>
  </div>
</body>